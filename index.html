<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0,shrink-to-fit=no">
  <title>Techniques to make a web app load fast even on a phone</title>

  <meta name="description" content="&lt;p&gt;At Google I/O 2019 Mariko, Jake, and I shipped&amp;nbsp;PROXX a modern Minesweeper-clone for the web. Something that sets PROXX apart is the focus on accessibility (you can play it with a screenreader!)&lt;/p&gt;">
  <link rel="canonical" href="http://127.0.0.1:8000/blog/techniques-to-make-a-web-app-load-fast-even-on-a-phone">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script>


  
<script type="application/ld+json">{"@type": "BlogPosting", "headline": "Techniques to make a web app load fast even on a phone", "description": "\u003Cp\u003EAt Google I/O 2019 Mariko, Jake, and I shipped\u0026nbsp;PROXX a modern Minesweeper-clone for the web. Something that sets PROXX apart is the focus on accessibility (you can play it with a screenreader!)\u003C/p\u003E", "author": {"@type": "Person", "name": "Sachin"}, "datePublished": "2020-11-05", "dateModified": "2020-11-05", "url": "https://localhost:8000/blog/techniques-to-make-a-web-app-load-fast-even-on-a-phone", "mainEntityOfPage": {"@type": "WebPage", "@id": "https://localhost:8000/blog/techniques-to-make-a-web-app-load-fast-even-on-a-phone"}, "image": "https://localhost:8000/media/images/hero_mRQ8fUI.jpg", "@context": "https://schema.org"}</script>

<meta property="og:description" content="&lt;p&gt;At Google I/O 2019 Mariko, Jake, and I shipped&amp;nbsp;PROXX a modern Minesweeper-clone for the web. Something that sets PROXX apart is the focus on accessibility (you can play it with a screenreader!)&lt;/p&gt;" />
<meta property="og:image" content="https://localhost:8000/media/images/hero_mRQ8fUI.jpg" />
<meta property="og:url" content="https://localhost:8000/blog/techniques-to-make-a-web-app-load-fast-even-on-a-phone" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Techniques to make a web app load fast even on a phone" />
<meta property="article:published_time" content="2020-11-05" />
<meta property="article:modified_time" content="2020-11-05" />

  
  
  
  <style>
    
    *{padding:0;margin:0;text-decoration:none;list-style:none;box-sizing:border-box}.navlink_active{-webkit-box-shadow:0 -2px 0 #3740ff inset;box-shadow:0 -2px 0 #3740ff inset}nav{background:#fff;height:65px;width:100%;-webkit-box-shadow:0 1px 2px 0 rgba(60,64,67,0.3),0 2px 6px 2px rgba(60,64,67,0.15);box-shadow:0 1px 2px 0 rgba(60,64,67,0.3),0 2px 6px 2px rgba(60,64,67,0.15)}label.logo{color:#fff;font-size:35px;line-height:80px;padding:0 100px;font-weight:700}nav ul{float:right;margin-right:20px}nav ul li{display:inline-block;line-height:52px;margin:0 5px}nav li:hover{background:#f0f0f0}nav ul li a{color:#202124;font-size:15px;padding:7px 13px;font-weight:500;display:flex}.checkbtn{font-size:30px;color:#000;float:right;line-height:80px;margin-right:40px;cursor:pointer;display:none}#check{display:none}@media (max-width: 952px){label.logo{font-size:30px;padding-left:50px}nav ul li a{font-size:16px}}@media (max-width: 858px){.checkbtn{display:block}nav ul{position:fixed;width:100%;height:100vh;background:#2c3e50;top:80px;left:-100%;text-align:center;transition:all .5s}nav ul li{display:block;margin:50px 0;line-height:40px}nav ul li a{font-size:20px}#check:checked ~ ul{left:0}}
  nav{
    width: 100%;
  }
  img{
    max-width: 100%;
    object-fit: cover;
  height: auto; 
  vertical-align: middle;
   }
.content{
  display: grid;

   max-width: 800px;
   margin-top: 1rem;
}
code, pre {
    background: #f7f7f7;
    border: 1px solid #dadce0;
    color: #202124;
    font: 1rem/1.5em SFMono-Regular,Consolas,"Liberation Mono",Menlo,monospace;
    -ms-hyphens: none;
    hyphens: none;
    -moz-tab-size: 2;
    -o-tab-size: 2;
    tab-size: 2;
    text-align: left;
    word-spacing: normal;
    padding: 2px 2px;
}
.content_main{
  display: grid;
  max-width: 800px;
margin-left: auto;
margin-right: auto;
padding-left:1.2rem;
padding-right:1.2rem;
}
@media(max-width:600px){
  .content_main{
    width: 100vw;
    max-width: 100%;
    padding-right: 0;
  }
  .container{
    width: auto;
    min-width: 100%;
  }
}
.content_main hr::before {
      --x-height-multiplier: 0.342;
      --baseline-multiplier: 0.22;
      font-family: medium-content-slab-serif-font, Georgia, Cambria, "Times New Roman", Times, serif;
      font-weight: 400;
      font-style: italic;
      font-size: 30px;
      letter-spacing: .6em;
      content: '...';
      display: inline-block;
      margin-left: .6em;
      color: rgba(0, 0, 0, .68);
      position: relative;
      top: -30px;
    }

    .content_main hr {
      margin-top: 52px;
      margin-bottom: 42px;
      display: block;
      border: 0;
      text-align: center;
      overflow: visible;
    }

     
.content_main a{
  color: #3740ff;
text-decoration: underline;}
.content_main p{
  
    font: 400 18px / 1.77778 Segoe UI,system-ui,-apple-system,sans-serif;
    margin-top: 36px;
    margin-bottom: 36px;

}
.mx-auto{
  margin-left: auto;
   margin-right: auto;
}
 body{
   font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
 }
.breadcrumb{
 /* display:flex;
 justify-content: center;
 margin-top:2rem; */
 margin-right:auto;
 margin-left: auto;
 max-width: 800px;
 margin-top:2rem;

}
h2,h3,h4,h5,h6{
  font-family:'Roboto',sans-serif;
  font-weight: 400;
}
h3{
  font-size: 22px;
}

 h1{
  font: 500 44px / 1.32143 'Roboto', sans-serif;
    letter-spacing: -.5px;
    line-height: 52px;
    padding: 10px 7px;
    color: #202124;
 }
 .w-breadcrumbs__icon {
    width: 1.1rem;
    height: 1.1rem;
    fill: #5f6368;
    transform: translateY(2px);
}
.breadcrumb_item {
  color: #5f6368!important;
  text-decoration: underline;
  padding: 0 8px;
 
}
.breadcrumb_item_muted{
  margin-left: 0.5rem;
}
a:hover{
  text-decoration: none;
}

ul.breadcrumb li {
  display: inline;
}
blockquote {
      font-size: 19px;
      margin: 50px auto;
      color: #2b2b2b;
      padding-left:1rem;
      border-left: 3px solid #000;
      line-height: 1.6;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .content_main li{
      margin-bottom: 0.8rem;
      font-size: 17.5px;
    }
.content_main ul:not([class]) {
    list-style: none;
    margin: 32px 0;
    padding-left: 48px;
    position: relative;
    color: #242323;
      font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      font-weight: 400;
      letter-spacing: 0.005em;
}
.content_main ul:not([class])>li::before {
    background: #4f4f4f;
    border-radius: 50%;
    color: #fff;
    content: '';
    height: 8px;
    left: 0;
    margin: 12px 0 0;
    position: absolute;
    width: 8px;
}
ol:not([class])>li::before {
    -ms-flex-align: center;
    -ms-flex-negative: 0;
    -ms-flex-pack: center;
    -webkit-box-align: center;
    -webkit-box-pack: center;
    align-items: center;
    background: #535555;
    border-radius: 50%;
    color: #fff;
    content: counter(ol-step-counter);
    display: -ms-inline-flexbox;
    display: -webkit-inline-box;
    display: inline-flex;
    flex-shrink: 0;
    font-size: .75em;
    height: 20px;
    justify-content: center;
    left: 0;
    margin: 6px 0 0;
    position: absolute;
    width: 20px;
}
ol:not([class])>li {
    counter-increment: ol-step-counter;
    font-size: 1.125rem;
    line-height: 1.778rem;
    margin-bottom: 8px;
}
ol:not([class]) {
    counter-reset: ol-step-counter;
    list-style: none;
    margin: 32px 0;
    padding-left: 48px;
    position: relative;
}
 @media(max-width: 600px){
   h1{
     font-size: 34px;
   }
   .content_main p{
     font-size:19.5px;
   }
 }
 .tags {
      padding: 8px;
      color: rgb(43, 43, 43);
      margin-left: -0.8rem;
    }

    .tags a {
      list-style: none;
      background: rgba(242, 242, 242, 1);
      padding: 8px;
      border-radius: 3px;
      color: rgb(43, 43, 43) !important;
      text-decoration: none;
    }

    .tags a:hover {
      color: rgb(43, 43, 43) !important;
      background: #eeeeee;
      text-decoration: none!important;
    }
    .form-control{
      width: 100%;
      height: 12vh;
      padding: 0.4rem;
    }
.btn{
    background-color: #3740ff;
    border: 0;
    border-radius: 4px;
    -webkit-box-shadow: 0 2px 4px -1px rgba(0,0,0,0.2), 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12);
    box-shadow: 0 2px 4px -1px rgba(0,0,0,0.2), 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12);
    color: #fff;
    cursor: pointer;
    font-size: .875em;
    font-weight: 600;
    height: 56px;
    letter-spacing: 1px;
    overflow: hidden;
    padding: 1rem 1rem;
    text-transform: uppercase;
    width: auto;
    outline:none;
}
h2{ 
    font-variant-numeric: normal;
    font-variant-east-asian: normal;
    font-stretch: normal;
    font-size: 25px;
    line-height: 1.33333;
    color: #202124;
    margin: 64px 0px 32px;
    overflow: visible;
}
.subfooter {
    background: linear-gradient(90deg,#fff 20px,transparent 1%) center,linear-gradient(#fff 20px,transparent 1%) center,#c7c4c4;
    background-size: 22px 22px;
    border-top: 1px solid #e7e7e7;
    border-bottom: 1px solid #e7e7e7;
    text-align: center;
    margin-top: 3.5rem;
    padding-bottom:2rem;
    padding-top:2rem;

}
.subfooter__inner{
  width:60%;
  margin-left: auto;
  margin-right: auto;
}
.subfooter__heading {
    font-size: 22px!important;
    font-size: 1.375rem;
    margin: 0 auto 1em;
}
@media (min-width: 50em){
.subfooter__heading {
    font-size: 2.25rem!important;
    line-height: 40px!important;
}}
.form_input{
  padding: 1rem;
  width: 50%;
  outline: none;
  
}
  </style>
  </head>
  <body>
    <nav>
      <input type="checkbox" id="check">
      <label for="check" class="checkbtn">
        <i class="fa fa-bars"></i>
      </label>
      <label>
        <img src="https://webdev.imgix.net/images/lockup.svg" class="logo" height="70" width="150" alt="">
      </label>
      <ul>
        <li><a class="navlink_active" href="/">Home</a></li>
        <li><a href="/blog">Blog</a></li>
        <li><a href="/tools">Tools</a></li>
        <li><a href="/about">About</a></li>
        <li><a href="/contact">Contact</a></li>
      </ul>
    </nav>

    <div class="container">
      <span id="front_image" >

      </span>
      <div class="content">
    
      
    </div>
      <div class="content_main">
        <ul class="breadcrumb"style="margin-left:0.1rem;">
          <li><a href="/" class="breadcrumb_item">Home</a></li>
          <svg class="w-breadcrumbs__icon" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" aria-hidden="true">
            <path d="M0 0h24v24H0V0z" fill="none"></path>
            <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"></path>
          </svg>
          <li><a href="/blog" class="breadcrumb_item">All Articles</a></li>
         
        </ul>
          <h1 style="margin-left:-0.6rem;">Techniques to make a web app load fast even on a phone</h1>
        <span style="color: #5f6368;">Nov. 5, 2020 • Update Nov. 6, 2020</span>
       
        <!-- Main content will come here -->
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">At Google I/O 2019 Mariko, Jake, and I shipped&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://proxx.app/">PROXX</a>, a modern Minesweeper-clone for the web. Something that sets PROXX apart is the focus on accessibility (you can play it with a screenreader!) and the ability to run as well on a feature phone as on a high-end desktop device. Feature phones are constrained in multiple ways:</p>
<ul style="box-sizing: border-box; margin: 32px 0px; padding: 0px 0px 0px 48px; list-style: none; position: relative; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; font-size: 16px;">
<li style="box-sizing: border-box; margin: 0px 0px 8px; padding: 0px; font-size: 1.125rem; line-height: 1.778rem;">Weak CPUs</li>
<li style="box-sizing: border-box; margin: 0px 0px 8px; padding: 0px; font-size: 1.125rem; line-height: 1.778rem;">Weak or non-existent GPUs</li>
<li style="box-sizing: border-box; margin: 0px 0px 8px; padding: 0px; font-size: 1.125rem; line-height: 1.778rem;">Small screens without touch input</li>
<li style="box-sizing: border-box; margin: 0px 0px 8px; padding: 0px; font-size: 1.125rem; line-height: 1.778rem;">Very limited amounts of memory</li>
</ul>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">But they run a modern browser and are very affordable. For this reason, feature phones are making a resurgence in emerging markets. Their price point allows a whole new audience, who previously couldn't afford it, to come online and make use of the modern web.&nbsp;<span style="box-sizing: border-box;"><a style="box-sizing: border-box; color: #3740ff;" href="https://www.counterpointresearch.com/more-than-a-billion-feature-phones-to-be-sold-over-next-three-years/">For 2019 it is projected that around 400 million feature phones will be sold in India alone</a></span>, so users on feature phones might become a significant portion of your audience. In addition to that, connection speeds akin to 2G are the norm in emerging markets. How did we manage to make PROXX work well under feature phone conditions?</p>
<figure class="w-figure" style="box-sizing: border-box; margin: 32px 0px; text-align: center; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; font-size: 16px;"><video class="w-screenshot lozad" style="box-sizing: content-box; max-width: 100%; border: 1px solid #dadce0; padding: 4px; margin-left: -5px;" poster="https://storage.googleapis.com/web-dev-assets/js-heavy-sites/social_supercut_poster.jpg" preload="metadata" loop="loop" muted="" controls="controls" width="300" height="150" data-src="https://storage.googleapis.com/web-dev-assets/js-heavy-sites/social_supercut_x264.mp4"></video>
<figcaption class="w-figcaption w-figcaption--fullbleed" style="box-sizing: border-box; font-size: 0.875em; line-height: 1.5em; margin: 24px 32px 0px;">PROXX gameplay.</figcaption>
</figure>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">Performance is important, and that includes both loading performance and runtime performance. It has been shown that&nbsp;<span style="box-sizing: border-box;">good performance correlates with increased user retention, improved conversions and&mdash;most importantly&mdash;increased inclusivity.</span>&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://twitter.com/malchata">Jeremy Wagner</a>&nbsp;has much more data and insight on&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://developers.google.com/web/fundamentals/performance/why-performance-matters/">why performance matters</a>.</p>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">This is part 1 of a two-part series.&nbsp;<span style="box-sizing: border-box;">Part 1 focuses on loading performance</span>, and part 2 will focus on runtime performance.</p>
<h2 id="capturing-the-status-quo" style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-weight: 400; font-stretch: normal; font-size: 24px; line-height: 1.33333; font-family: 'Google Sans', sans-serif; color: #202124; margin: 64px 0px 32px; overflow: visible;">Capturing the status quo&nbsp;<a class="w-headline-link" style="box-sizing: border-box; display: inline; margin-left: 4px;" href="https://web.dev/load-faster-like-proxx/#capturing-the-status-quo" aria-hidden="true">#</a></h2>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 0px; margin-bottom: 36px;">Testing your loading performance on a&nbsp;<em style="box-sizing: border-box;">real</em>&nbsp;device is critical. If you don't have a real device at hand, I recommend&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://webpagetest.org/">WebPageTest</a>&nbsp;(WPT), specifically the&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://webpagetest.org/easy">"simple" setup</a>.&nbsp;<span style="box-sizing: border-box;">WPT runs a battery of loading tests on a&nbsp;<em style="box-sizing: border-box;">real</em>&nbsp;device with an emulated 3G connection.</span></p>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">3G is a good speed to measure. While you might be used to 4G, LTE or soon even 5G, the reality of mobile internet looks quite different. Maybe you're on a train, at a conference, at a concert, or on a flight. What you'll be experiencing there is most likely closer to 3G, and sometimes even worse.</p>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">That being said, we're going to focus on 2G in this article because PROXX is explicitly targeting feature phones and emerging markets in its target audience. Once WebPageTest has run its test, you get a waterfall (similar to what you see in DevTools) as well as a filmstrip at the top. The film strip shows what your user sees while your app is loading. On 2G, the loading experience of the unoptimized version of PROXX is pretty bad:</p>
<figure class="w-figure" style="box-sizing: border-box; margin: 32px 0px; text-align: center; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; font-size: 16px;"><video class="w-screenshot" style="box-sizing: content-box; max-width: 100%; border: 1px solid #dadce0; padding: 4px; margin-left: -5px;" src="https://storage.googleapis.com/web-dev-assets/js-heavy-sites/stupid-proxx-load.mp4" poster="https://storage.googleapis.com/web-dev-assets/js-heavy-sites/stupid-proxx-load-poster.jpg" preload="metadata" muted="" controls="controls" width="300" height="150"></video>
<figcaption class="w-figcaption w-figcaption--fullbleed" style="box-sizing: border-box; font-size: 0.875em; line-height: 1.5em; margin: 24px 32px 0px;">The filmstrip video shows what the user sees when PROXX is loading on a real, low-end device over an emulated 2G connection.</figcaption>
</figure>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">When loaded over 3G, the user sees 4 seconds of white nothingness.&nbsp;<span style="box-sizing: border-box;">Over 2G the user sees absolutely nothing for over 8 seconds.</span>&nbsp;If you read&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://developers.google.com/web/fundamentals/performance/why-performance-matters/">why performance matters</a>&nbsp;you know that we have now lost a good portion of our potential users due to impatience. The user needs to download all of the 62 KB of JavaScript for anything to appear on screen. The silver lining in this scenario is that the second anything appears on screen it is also interactive. Or is it?</p>
<figure class="w-figure" style="box-sizing: border-box; margin: 32px 0px; text-align: center; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; font-size: 16px;"><picture style="box-sizing: border-box;"><source class="lozad" style="box-sizing: border-box;" type="image/webp" data-srcset="proxx-first-render.webp" /><img class="lozad" style="box-sizing: border-box; display: inline-block; height: auto; max-width: 100%; vertical-align: middle;" data-src="https://webdev.imgix.net/load-faster-like-proxx/proxx-first-render.jpg" /></picture>
<figcaption class="w-figcaption" style="box-sizing: border-box; font-size: 0.875em; line-height: 1.5em; margin: 16px 0px 0px;">
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; margin-top: 36px; margin-bottom: 36px;">The&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://web.dev/first-meaningful-paint">First Meaningful Paint</a>&nbsp;in the unoptimized version of PROXX is&nbsp;<em style="box-sizing: border-box;">technically</em>&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://web.dev/interactive">interactive</a>&nbsp;but useless to the user.</p>
</figcaption>
</figure>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">After about 62 KB of gzip'd JS has been downloaded and the DOM has been generated, the user gets to see our app. The app is&nbsp;<em style="box-sizing: border-box;">technically</em>&nbsp;interactive. Looking at the visual, however, shows a different reality. The web fonts are still loading in the background and until they are ready the user can see no text. While this state qualifies as a&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://web.dev/first-meaningful-paint">First Meaningful Paint (FMP)</a>, it surely does not qualify as properly&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://web.dev/interactive">interactive</a>, as the user can't tell what any of the inputs are about. It takes another second on 3G and 3 seconds on 2G until the app is ready to go.&nbsp;<span style="box-sizing: border-box;">All in all, the app takes 6 seconds on 3G and 11 seconds on 2G to become interactive.</span></p>
<h2 id="waterfall-analysis" style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-weight: 400; font-stretch: normal; font-size: 24px; line-height: 1.33333; font-family: 'Google Sans', sans-serif; color: #202124; margin: 64px 0px 32px; overflow: visible;">Waterfall analysis&nbsp;<a class="w-headline-link" style="box-sizing: border-box; display: inline; margin-left: 4px;" href="https://web.dev/load-faster-like-proxx/#waterfall-analysis" aria-hidden="true">#</a></h2>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 0px; margin-bottom: 36px;">Now that we know&nbsp;<em style="box-sizing: border-box;">what</em>&nbsp;the user sees, we need to figure out the&nbsp;<em style="box-sizing: border-box;">why</em>. For this we can look at the waterfall and analyze why resources are loading too late. In our 2G trace for PROXX we can see two major red flags:</p>
<ol style="box-sizing: border-box; margin: 32px 0px; padding: 0px 0px 0px 48px; counter-reset: ol-step-counter 0; list-style: none; position: relative; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; font-size: 16px;">
<li style="box-sizing: border-box; margin: 0px 0px 8px; padding: 0px; counter-increment: ol-step-counter 1; font-size: 1.125rem; line-height: 1.778rem;">There are multiple, multi-colored thin lines.</li>
<li style="box-sizing: border-box; margin: 0px 0px 8px; padding: 0px; counter-increment: ol-step-counter 1; font-size: 1.125rem; line-height: 1.778rem;">JavaScript files form a chain. For example, the second resource only starts loading once the first resource is finished, and the third resource only starts when the second resource is finished.</li>
</ol>
<figure class="w-figure" style="box-sizing: border-box; margin: 32px 0px; text-align: center; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; font-size: 16px;"><picture style="box-sizing: border-box;"><img class="lozad" style="box-sizing: border-box; display: inline-block; height: auto; max-width: 100%; vertical-align: middle;" data-src="https://webdev.imgix.net/load-faster-like-proxx/waterfall_opt.png" /></picture>
<figcaption class="w-figcaption" style="box-sizing: border-box; font-size: 0.875em; line-height: 1.5em; margin: 16px 0px 0px;">The waterfall gives insight into which resources are loading when and how long they take.</figcaption>
</figure>
<h3 id="reducing-connection-count" style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-weight: 500; font-stretch: normal; font-size: 20px; line-height: 1.2; font-family: 'Google Sans', sans-serif; color: #202124; margin: 48px 0px 16px; overflow: visible;">Reducing connection count&nbsp;<a class="w-headline-link" style="box-sizing: border-box; display: inline; margin-left: 4px;" href="https://web.dev/load-faster-like-proxx/#reducing-connection-count" aria-hidden="true">#</a></h3>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 0px; margin-bottom: 36px;">Each thin line (<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">dns</code>,&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">connect</code>,&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">ssl</code>) stands for the creation of a new HTTP connection. Setting up a new connection is costly as it takes around 1s on 3G and roughly 2.5s on 2G. In our waterfall we see a new connection for:</p>
<ul style="box-sizing: border-box; margin: 32px 0px; padding: 0px 0px 0px 48px; list-style: none; position: relative; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; font-size: 16px;">
<li style="box-sizing: border-box; margin: 0px 0px 8px; padding: 0px; font-size: 1.125rem; line-height: 1.778rem;">Request #1: Our&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">index.html</code></li>
<li style="box-sizing: border-box; margin: 0px 0px 8px; padding: 0px; font-size: 1.125rem; line-height: 1.778rem;">Request #5: The font styles from&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">fonts.googleapis.com</code></li>
<li style="box-sizing: border-box; margin: 0px 0px 8px; padding: 0px; font-size: 1.125rem; line-height: 1.778rem;">Request #8: Google Analytics</li>
<li style="box-sizing: border-box; margin: 0px 0px 8px; padding: 0px; font-size: 1.125rem; line-height: 1.778rem;">Request #9: A font file from&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">fonts.gstatic.com</code></li>
<li style="box-sizing: border-box; margin: 0px 0px 8px; padding: 0px; font-size: 1.125rem; line-height: 1.778rem;">Request #14: The Web App Manifest</li>
</ul>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">The new connection for&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">index.html</code>&nbsp;is unavoidable. The browser&nbsp;<em style="box-sizing: border-box;">has</em>&nbsp;to create a connection to our server to get the contents. The new connection for Google Analytics could be avoided by inlining something like&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://minimalanalytics.com/">Minimal Analytics</a>, but Google Analytics is not blocking our app from rendering or becoming interactive, so we don't really care about how fast it loads. Ideally, Google Analytics should be loaded in idle time, when everything else has already loaded. That way it won't take up bandwidth or processing power during the initial load. The new connection for the web app manifest is&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://fetch.spec.whatwg.org/#connections">prescribed by the fetch spec</a>, as the manifest has to be loaded over a non-credentialed connection. Again, the web app manifest doesn't block our app from rendering or becoming interactive, so we don't need to care that much.</p>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">The two fonts and their styles, however, are a problem as they block rendering and also interactivity. If we look at the CSS that is delivered by&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">fonts.googleapis.com</code>, it's just two&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">@font-face</code>&nbsp;rules, one for each font. The font&nbsp;<em style="box-sizing: border-box;">styles</em>&nbsp;are so small in fact, that we decided to inline it into our HTML, removing one unnecessary connection. To avoid the cost of the connection setup for the font&nbsp;<em style="box-sizing: border-box;">files</em>, we can copy them to our own server.</p>
<div class="w-aside w-aside--note" style="box-sizing: border-box; margin: 48px 0px 32px; padding: 24px 0px 0px 48px; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; font-size: 18px; line-height: 32px; position: relative; color: #3740ff;">
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: inherit; line-height: inherit; font-family: inherit; margin: 0px; color: inherit;"><span style="box-sizing: border-box; font-weight: bold;">Note:</span>&nbsp;Copying CSS or font files to your own server is okay when using&nbsp;<a style="box-sizing: border-box;" href="https://fonts.google.com/">Google Fonts</a>. Other font providers might have different rules. Please check with your font provider's terms of service!</p>
</div>
<h3 id="parallelizing-loads" style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-weight: 500; font-stretch: normal; font-size: 20px; line-height: 1.2; font-family: 'Google Sans', sans-serif; color: #202124; margin: 48px 0px 16px; overflow: visible;">Parallelizing loads&nbsp;<a class="w-headline-link" style="box-sizing: border-box; display: inline; margin-left: 4px;" href="https://web.dev/load-faster-like-proxx/#parallelizing-loads" aria-hidden="true">#</a></h3>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 0px; margin-bottom: 36px;">Looking at the waterfall, we can see that once the first JavaScript file is done loading, new files start loading immediately. This is typical for module dependencies. Our main module probably has static imports, so the JavaScript cannot run until those imports are loaded. The important thing to realize here is that these kinds of dependencies are known at build time. We can make use of&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">&lt;link rel="preload"&gt;</code>&nbsp;tags to make sure all dependencies start loading the second we receive our HTML.</p>
<h3 id="results" style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-weight: 500; font-stretch: normal; font-size: 20px; line-height: 1.2; font-family: 'Google Sans', sans-serif; color: #202124; margin: 48px 0px 16px; overflow: visible;">Results&nbsp;<a class="w-headline-link" style="box-sizing: border-box; display: inline; margin-left: 4px;" href="https://web.dev/load-faster-like-proxx/#results" aria-hidden="true">#</a></h3>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 0px; margin-bottom: 36px;">Let's take a look at what our changes have achieved. It's important to not change any other variables in our test setup that could skew the results, so we will be using&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://webpagetest.org/easy">WebPageTest's simple setup</a>&nbsp;for the rest of this article and look at the filmstrip:</p>
<figure class="w-figure" style="box-sizing: border-box; margin: 32px 0px; text-align: center; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; font-size: 16px;"><video class="w-screenshot" style="box-sizing: content-box; max-width: 100%; border: 1px solid #dadce0; padding: 4px; margin-left: -5px;" src="https://storage.googleapis.com/web-dev-assets/js-heavy-sites/preload-proxx-load.mp4" poster="https://storage.googleapis.com/web-dev-assets/js-heavy-sites/preload-proxx-load-poster.jpg" preload="metadata" muted="" controls="controls" width="300" height="150"></video>
<figcaption class="w-figcaption w-figcaption--fullbleed" style="box-sizing: border-box; font-size: 0.875em; line-height: 1.5em; margin: 24px 32px 0px;">We use WebPageTest's filmstrip to see what our changes have achieved.</figcaption>
</figure>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;"><span style="box-sizing: border-box;">These changes reduced our TTI from 11 to 8.5</span>, which is roughly the 2.5s of connection setup time we aimed to remove. Well done us.</p>
<h2 id="prerendering" style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-weight: 400; font-stretch: normal; font-size: 24px; line-height: 1.33333; font-family: 'Google Sans', sans-serif; color: #202124; margin: 64px 0px 32px; overflow: visible;">Prerendering&nbsp;<a class="w-headline-link" style="box-sizing: border-box; display: inline; margin-left: 4px;" href="https://web.dev/load-faster-like-proxx/#prerendering" aria-hidden="true">#</a></h2>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 0px; margin-bottom: 36px;">While we just reduced our&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://web.dev/interactive">TTI</a>, we haven't really affected the eternally long white screen the user has to endure for 8.5 seconds. Arguably&nbsp;<span style="box-sizing: border-box;">the biggest improvements for&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://web.dev/first-meaningful-paint">FMP</a>&nbsp;can be achieved by sending styled markup in your&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">index.html</code></span>. Common techniques to achieve this are prerendering and server-side rendering, which are closely related and are explained in&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://developers.google.com/web/updates/2019/02/rendering-on-the-web">Rendering on the Web</a>. Both techniques run the web app in Node and serialize the resulting DOM to HTML. Server-side rendering does this per request on the, well, server side, while prerendering does this at build time and stores the output as your new&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">index.html</code>. Since PROXX is a&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://jamstack.org/">JAMStack</a>&nbsp;app and has no server side, we decided to implement prerendering.</p>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">There are many ways to implement a prerenderer. In PROXX we chose to use&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://pptr.dev/">Puppeteer</a>, which starts Chrome without any UI and allows you to remote control that instance with a Node API. We use this to inject our markup and our JavaScript and then read back the DOM as a string of HTML. Because we are using&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://github.com/css-modules/css-modules">CSS Modules</a>, we get CSS inlining of the styles that we need for free.</p>
<pre class="language-js" style="box-sizing: border-box; margin-top: 32px; margin-bottom: 32px; padding: 16px; background-color: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; min-height: 64px;"><code>  const browser = await puppeteer.launch();
  const page = await browser.newPage();
  await page.setContent(rawIndexHTML);
  await page.evaluate(codeToRun);
  const renderedHTML = await page.content();
  browser.close();
  await writeFile("index.html", renderedHTML);</code></pre>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">With this in place, we can expect an improvement for our FMP. We still need to load and execute the same amount of JavaScript as before, so we shouldn't expect TTI to change much. If anything, our&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">index.html</code>&nbsp;has gotten bigger and might push back our TTI a bit. There's only one way to find out: running WebPageTest.</p>
<figure class="w-figure" style="box-sizing: border-box; margin: 32px 0px; text-align: center; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; font-size: 16px;"><video class="w-screenshot" style="box-sizing: content-box; max-width: 100%; border: 1px solid #dadce0; padding: 4px; margin-left: -5px;" src="https://storage.googleapis.com/web-dev-assets/js-heavy-sites/ssr-proxx-load.mp4" poster="https://storage.googleapis.com/web-dev-assets/js-heavy-sites/ssr-proxx-load-poster.jpg" preload="metadata" muted="" controls="controls" width="300" height="150"></video>
<figcaption class="w-figcaption w-figcaption--fullbleed" style="box-sizing: border-box; font-size: 0.875em; line-height: 1.5em; margin: 24px 32px 0px;">The filmstrip shows a clear improvement for our FMP metric. TTI is mostly unaffected.</figcaption>
</figure>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;"><span style="box-sizing: border-box;">Our First Meaningful Paint has moved from 8.5 seconds to 4.9 seconds,</span>&nbsp;a massive improvement. Our TTI still happens at around 8.5 seconds so it has been largely unaffected by this change. What we did here is a&nbsp;<em style="box-sizing: border-box;">perceptual</em>&nbsp;change. Some might even call it a sleight of hand. By rendering an intermediate visual of the game, we are changing the perceived loading performance for the better.</p>
<h2 id="inlining" style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-weight: 400; font-stretch: normal; font-size: 24px; line-height: 1.33333; font-family: 'Google Sans', sans-serif; color: #202124; margin: 64px 0px 32px; overflow: visible;">Inlining&nbsp;<a class="w-headline-link" style="box-sizing: border-box; display: inline; margin-left: 4px;" href="https://web.dev/load-faster-like-proxx/#inlining" aria-hidden="true">#</a></h2>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 0px; margin-bottom: 36px;">Another metric that both DevTools and WebPageTest give us is&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://web.dev/time-to-first-byte">Time To First Byte (TTFB)</a>. This is the time it takes from the first byte of the request being sent to the first byte of the response being received. This time is also often called a Round Trip Time (RTT), although technically there is a difference between these two numbers: RTT does not include the processing time of the request on the server side.&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://developers.google.com/web/tools/chrome-devtools/network/reference#timing-preview">DevTools</a>&nbsp;and WebPageTest visualize TTFB with a light color within the request/response block.</p>
<figure class="w-figure" style="box-sizing: border-box; margin: 32px 0px; text-align: center; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; font-size: 16px;"><picture style="box-sizing: border-box;"><img class="lozad" style="box-sizing: border-box; display: inline-block; height: auto; max-width: 100%; vertical-align: middle;" data-src="https://webdev.imgix.net/load-faster-like-proxx/ttfb.svg" /></picture>
<figcaption class="w-figcaption" style="box-sizing: border-box; font-size: 0.875em; line-height: 1.5em; margin: 16px 0px 0px;">The light section of a request signifies the request is waiting to receive the first byte of the response.</figcaption>
</figure>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">Looking at our waterfall, we can see that the&nbsp;<span style="box-sizing: border-box;">all of requests spend the&nbsp;<em style="box-sizing: border-box;">majority</em>&nbsp;of their time waiting</span>&nbsp;for the first byte of the response to arrive.</p>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">This problem was what HTTP/2 Push was originally conceived for. The app developer&nbsp;<em style="box-sizing: border-box;">knows</em>&nbsp;that certain resources are needed and can&nbsp;<em style="box-sizing: border-box;">push</em>&nbsp;them down the wire. By the time the client realizes that it needs to fetch additional resources, they are already in the browser's caches.&nbsp;<span style="box-sizing: border-box;">HTTP/2 Push turned out to be too hard to get right and is considered discouraged.</span>&nbsp;This problem space will be revisited during the standardization of HTTP/3. For now,&nbsp;<span style="box-sizing: border-box;">the easiest solution is to&nbsp;<em style="box-sizing: border-box;">inline</em>&nbsp;all the critical resources</span>&nbsp;at the expense of caching efficiency.</p>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">Our critical CSS is already inlined thanks to CSS Modules and our Puppeteer-based prerenderer. For JavaScript we need to inline our critical modules&nbsp;<em style="box-sizing: border-box;">and their dependencies</em>. This task has varying difficulty, based on the bundler that you're using.</p>
<div class="w-aside w-aside--note" style="box-sizing: border-box; margin: 48px 0px 32px; padding: 24px 0px 0px 48px; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; font-size: 18px; line-height: 32px; position: relative; color: #3740ff;">
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: inherit; line-height: inherit; font-family: inherit; margin: 0px; color: inherit;"><span style="box-sizing: border-box; font-weight: bold;">Note:</span>&nbsp;In this step we also subset our font files to contain only the glyphs that we need for our landing page. I am not going to go into detail on this step as it is not easily abstracted and sometimes not even practical. We still load the full font files lazily, but they are not needed for the initial render.</p>
</div>
<figure class="w-figure" style="box-sizing: border-box; margin: 32px 0px; text-align: center; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; font-size: 16px;"><video class="w-screenshot" style="box-sizing: content-box; max-width: 100%; border: 1px solid #dadce0; padding: 4px; margin-left: -5px;" src="https://storage.googleapis.com/web-dev-assets/js-heavy-sites/ssr-proxx-load.mp4" poster="https://storage.googleapis.com/web-dev-assets/js-heavy-sites/ssr-proxx-load-poster.jpg" preload="metadata" muted="" controls="controls" width="300" height="150"></video>
<figcaption class="w-figcaption w-figcaption--fullbleed" style="box-sizing: border-box; font-size: 0.875em; line-height: 1.5em; margin: 24px 32px 0px;">With the inlining of our JavaScript we have reduced our TTI from 8.5s to 7.2s.</figcaption>
</figure>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">This shaved 1 second off our TTI. We have now reached the point where our&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">index.html</code>&nbsp;contains everything that is needed for the initial render and becoming interactive. The HTML can render while it is still downloading, creating our FMP. The moment the HTML is done parsing and executing, the app is interactive.</p>
<h2 id="aggressive-code-splitting" style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-weight: 400; font-stretch: normal; font-size: 24px; line-height: 1.33333; font-family: 'Google Sans', sans-serif; color: #202124; margin: 64px 0px 32px; overflow: visible;">Aggressive code splitting&nbsp;<a class="w-headline-link" style="box-sizing: border-box; display: inline; margin-left: 4px;" href="https://web.dev/load-faster-like-proxx/#aggressive-code-splitting" aria-hidden="true">#</a></h2>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 0px; margin-bottom: 36px;">Yes, our&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">index.html</code>&nbsp;contains everything that is needed to become interactive. But on closer inspection it turns out it also contains everything else. Our&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">index.html</code>&nbsp;is around 43 KB. Let's put that in relation to what the user can interact with at the start: We have a form to configure the game containing a couple of components, a start button and probably some code to persist and load user settings. That's pretty much it. 43 KB seems like a lot.</p>
<figure class="w-figure" style="box-sizing: border-box; margin: 32px 0px; text-align: center; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; font-size: 16px;"><picture style="box-sizing: border-box;"><source class="lozad" style="box-sizing: border-box;" type="image/webp" data-srcset="proxx-loaded.webp" /><img class="lozad" style="box-sizing: border-box; display: inline-block; height: auto; max-width: 100%; vertical-align: middle;" data-src="https://webdev.imgix.net/load-faster-like-proxx/proxx-loaded.jpg" /></picture>
<figcaption class="w-figcaption" style="box-sizing: border-box; font-size: 0.875em; line-height: 1.5em; margin: 16px 0px 0px;">The landing page of PROXX. Only critical components are used here.</figcaption>
</figure>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">To understand where our bundle size is coming from we can use a&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://npm.im/source-map-explorer">source map explorer</a>&nbsp;or a similar tool to break down what the bundle consists of. As predicted, our bundle contains the game logic, the rendering engine, the win screen, the lose screen and a bunch of utilities. Only a small subset of these modules are needed for the landing page. Moving everything that is not strictly required for interactivity into a lazily-loaded module will decrease TTI&nbsp;<em style="box-sizing: border-box;">significantly</em>.</p>
<figure class="w-figure" style="box-sizing: border-box; margin: 32px 0px; text-align: center; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; font-size: 16px;"><picture style="box-sizing: border-box;"><img class="lozad" style="box-sizing: border-box; display: inline-block; height: auto; max-width: 100%; vertical-align: middle;" data-src="https://webdev.imgix.net/load-faster-like-proxx/sourcemap.svg" /></picture>
<figcaption class="w-figcaption" style="box-sizing: border-box; font-size: 0.875em; line-height: 1.5em; margin: 16px 0px 0px;">Analyzing the contents of PROXX's `index.html` shows a lot of unneeded resources. Critical resources are highlighted.</figcaption>
</figure>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">What we need to do is&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://web.dev/reduce-javascript-payloads-with-code-splitting/">code split</a>. Code splitting breaks apart your monolithic bundle into smaller parts that can be lazy-loaded on-demand. Popular bundlers like&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://webpack.js.org/">Webpack</a>,&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://rollupjs.org/">Rollup</a>, and&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://parceljs.org/">Parcel</a>&nbsp;support code splitting by using dynamic&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">import()</code>. The bundler will analyze your code and&nbsp;<em style="box-sizing: border-box;">inline</em>&nbsp;all modules that are imported&nbsp;<em style="box-sizing: border-box;">statically</em>. Everything that you import&nbsp;<em style="box-sizing: border-box;">dynamically</em>&nbsp;will be put into its own file and will only be fetched from the network once the&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">import()</code>&nbsp;call gets executed. Of course hitting the network has a cost and should only be done if you have the time to spare.&nbsp;<span style="box-sizing: border-box;">The mantra here is to statically import the modules that are&nbsp;<em style="box-sizing: border-box;">critically</em>&nbsp;needed at load time and dynamically load everything else.</span>&nbsp;But you shouldn't wait to the very last moment to lazy-load modules that are definitely going to be used.&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://twitter.com/philwalton">Phil Walton</a>'s&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://philipwalton.com/articles/idle-until-urgent/">Idle Until Urgent</a>&nbsp;is a great pattern for a healthy middle ground between lazy loading and eager loading.</p>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">In PROXX we created a&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">lazy.js</code>&nbsp;file that statically imports everything that we&nbsp;<em style="box-sizing: border-box;">don't</em>&nbsp;need. In our main file, we can then&nbsp;<em style="box-sizing: border-box;">dynamically</em>&nbsp;import&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">lazy.js</code>. However, some of our&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://preactjs.com/">Preact</a>&nbsp;components ended up in&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">lazy.js</code>, which turned out to be a bit of a complication as Preact can't handle lazily-loaded components out of the box. For this reason we wrote a little&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">deferred</code>&nbsp;component wrapper that allows us to render a placeholder until the actual component has loaded.</p>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">With this in place, we can use a Promise of a component in our&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">render()</code>&nbsp;functions. For example, the&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">&lt;Nebula&gt;</code>&nbsp;component, which renders the animated background image, will be replaced by an empty&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">&lt;div&gt;</code>&nbsp;while the component is loading. Once the component is loaded and ready to use, the&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">&lt;div&gt;</code>&nbsp;will be replaced with the actual component.</p>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">With all of this in place, we reduced our&nbsp;<code style="box-sizing: border-box; hyphens: none; margin: 0px 0.25em; padding: 0.125em 0.25em; background: #f7f7f7; border: 1px solid #dadce0; color: #202124; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 1rem; line-height: 1.5em; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; tab-size: 2; word-spacing: normal; white-space: pre-wrap;">index.html</code>&nbsp;to a mere 20 KB, less than half of the original size. What effect does this have on FMP and TTI? WebPageTest will tell!</p>
<p>
<script src="https://gist.github.com/Sachin-Duhan/5984c39f0ab50ab8b3dd875008cc6127.js"></script>
</p>
<figure class="w-figure" style="box-sizing: border-box; margin: 32px 0px; text-align: center; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; font-size: 16px;"><video class="w-screenshot" style="box-sizing: content-box; max-width: 100%; border: 1px solid #dadce0; padding: 4px; margin-left: -5px;" src="https://storage.googleapis.com/web-dev-assets/js-heavy-sites/optimized-proxx-load.mp4" poster="https://storage.googleapis.com/web-dev-assets/js-heavy-sites/optimized-proxx-load-poster.jpg" preload="metadata" muted="" controls="controls" width="300" height="150"></video>
<figcaption class="w-figcaption w-figcaption--fullbleed" style="box-sizing: border-box; font-size: 0.875em; line-height: 1.5em; margin: 24px 32px 0px;">The filmstrip confirms: Our TTI is now at 5.4s. A drastic improvement from our original 11s.</figcaption>
</figure>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">Our FMP and TTI are only 100ms apart, as it is only a matter of parsing and executing the inlined JavaScript. After just 5.4s on 2G, the app is completely interactive. All the other, less essential modules are loaded in the background.</p>
<h2 id="more-sleight-of-hand" style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-weight: 400; font-stretch: normal; font-size: 24px; line-height: 1.33333; font-family: 'Google Sans', sans-serif; color: #202124; margin: 64px 0px 32px; overflow: visible;">More Sleight of Hand&nbsp;<a class="w-headline-link" style="box-sizing: border-box; display: inline; margin-left: 4px;" href="https://web.dev/load-faster-like-proxx/#more-sleight-of-hand" aria-hidden="true">#</a></h2>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 0px; margin-bottom: 36px;">If you look at our list of critical modules above, you'll see that the rendering engine is not part of the critical modules. Of course, the game cannot start until we have our rendering engine to render the game. We could disable the "Start" button until our rendering engine is ready to start the game, but in our experience the user usually takes long enough to configure their game settings that this isn't necessary. Most of the time the rendering engine and the other remaining modules are done loading by the time the user presses "Start". In the rare case that the user is quicker than their network connection, we show a simple loading screen that waits for the remaining modules to finish.</p>
<h2 id="conclusion" style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-weight: 400; font-stretch: normal; font-size: 24px; line-height: 1.33333; font-family: 'Google Sans', sans-serif; color: #202124; margin: 64px 0px 32px; overflow: visible;">Conclusion&nbsp;<a class="w-headline-link" style="box-sizing: border-box; display: inline; margin-left: 4px;" href="https://web.dev/load-faster-like-proxx/#conclusion" aria-hidden="true">#</a></h2>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 0px; margin-bottom: 36px;">Measuring is important. To avoid spending time on problems that are not real, we recommend to always measure first before implementing optimizations. Additionally, measurements should be done on&nbsp;<em style="box-sizing: border-box;">real</em>&nbsp;devices on a 3G connection or on&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://webpagetest.org/easy">WebPageTest</a>&nbsp;if no real device is at hand.</p>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">The filmstrip can give insight into how loading your app&nbsp;<em style="box-sizing: border-box;">feels</em>&nbsp;for the user. The waterfall can tell you what resources are responsible for potentially long loading times. Here's a checklist of things you can do to improve loading performance:</p>
<ul style="box-sizing: border-box; margin: 32px 0px; padding: 0px 0px 0px 48px; list-style: none; position: relative; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; font-size: 16px;">
<li style="box-sizing: border-box; margin: 0px 0px 8px; padding: 0px; font-size: 1.125rem; line-height: 1.778rem;">Deliver as many assets as possible over one connection.</li>
<li style="box-sizing: border-box; margin: 0px 0px 8px; padding: 0px; font-size: 1.125rem; line-height: 1.778rem;"><a style="box-sizing: border-box; color: #3740ff;" href="https://web.dev/preload-critical-assets">Preload</a>&nbsp;or even inline resources that are required for the first render and interactivity.</li>
<li style="box-sizing: border-box; margin: 0px 0px 8px; padding: 0px; font-size: 1.125rem; line-height: 1.778rem;">Prerender your app to improve perceived loading performance.</li>
<li style="box-sizing: border-box; margin: 0px 0px 8px; padding: 0px; font-size: 1.125rem; line-height: 1.778rem;">Make use of aggressive&nbsp;<a style="box-sizing: border-box; color: #3740ff;" href="https://web.dev/reduce-javascript-payloads-with-code-splitting/">code splitting</a>&nbsp;to reduce the amount of code needed for interactivity.</li>
</ul>
<p>&nbsp;</p>
<p style="box-sizing: border-box; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 18px; line-height: 1.77778; font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; margin-top: 36px; margin-bottom: 36px;">Stay tuned for part 2 where we discuss how to optimize runtime performance on hyper-constrained devices.</p>

<span class="tags"><a href="/tag/performance">Performance</a></span>

<span class="tags"><a href="/tag/load-time">load time</a></span>

<span class="tags"><a href="/tag/speed">speed</a></span>



<div class="container comment-section" id = "comment-section" style="margin-top: 5rem;">
  <div class="pt-5">
   

   <div class="comment-form-wrap pt-5">
     <div class="section-title">
       <h3 style="margin-bottom: 2.5rem; "> Comments (<span style="color:rgb(19, 211, 137);">0</span>)</h3>
     </div>
     
     
       
       
     <form method="POST" class="p-5 comment_form" action = "/blog/techniques-to-make-a-web-app-load-fast-even-on-a-phone">
       <input type="hidden" name="csrfmiddlewaretoken" value="n0wxhR6apNu7ezY4LLDh3PDZ2kWpdTSHVaaQd4nuHPq19SAa2IW4o8o8GUVzwsTN">
       <div class="form-group">
         <label for="message">Comment</label>
         <textarea name="comm" id="message" cols="30" rows="3" class="form-control" style="border-radius:3px!important;border:2px solid rgb(106, 104, 104)!important;" placeholder="Drop your comments here" required></textarea>
       </div>
       <div class="form-group">
        <button class="btn" type="submit" style="    background-color: #3740ff; color:white;margin-bottom: 5rem;">COMMENT</button>
       </div>

     </form>
   </div>
   


   <ul class="comment-list" id="comment_list">
 
  </ul>

</div>
     </div>
    
 
    <!-- END comme                 nt-list -->
    <script type="text/javascript">
      function ReplyForm(id) {
        let elm = `<form method="POST" class="p-5 bg-light comment_form" action = "/blog/techniques-to-make-a-web-app-load-fast-even-on-a-phone">
                    <input type="hidden" name="csrfmiddlewaretoken" value="n0wxhR6apNu7ezY4LLDh3PDZ2kWpdTSHVaaQd4nuHPq19SAa2IW4o8o8GUVzwsTN">
        <div class="form-group">
        <input type='text' value='${id}' name = 'comm_id' style="display:none;" readonly/>
          <label for="message">Reply</label>
          <textarea name="comm" id="message" cols="30" rows="3" class="form-control" required></textarea>
        </div>
        <div class="form-group">
          <input type="submit" value="Post Reply" class="btn btn-primary py-3">
        </div>

      </form>`;
      document.getElementById(id).innerHTML = elm;
      }
    </script>
</div>
 
  </div>
   
</div> <!--This is ending content_main div-->
<!-- 
<section class="subfooter">
	<div class="subfooter__inner inner">
		<p class="subfooter__heading">Rank your site on Google search results in few months for <span style="color:#3740ff;">free </span>(See How!)
    </p>
		<div class="subfooter__form">
      <form action="/blog/techniques-to-make-a-web-app-load-fast-even-on-a-phone" method="GET">
        <input type="email"  name="email" class="form_input" placeholder="Email address*" style="font-family: Roboto, sans-serif;" required>
        <span>
          <button class="btn" style="border-radius:2.5rem;" type="submit">Subscribe now!</button>
        </span>
      </form>
    </div>
	</div>
</section> -->
</div>
</body>
<script type="text/javascript">

window.onload = function() {
  let image = document.getElementById('front_image');
  image.innerHTML = `
  <img src="https://webdev.imgix.net/load-faster-like-proxx/hero.jpg?auto=format&fit=max&w=1434" alt = "speed up site like a rocket" style="width:100%;max-height: 480px;">
    `
    let comments = document.getElementById('comment_list');
    comments.innerHTML = `
    
  
    `
}
const observer = lozad();
observer.observe();
</script>
</html>